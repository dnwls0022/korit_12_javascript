* {
  /* 모든 요소의 크기 계산을 '테두리 포함'으로 통일해요 (안전장치) */
  box-sizing: border-box;
  /* 브라우저가 기본으로 넣는 바깥 여백을 0으로 초기화! */
  margin: 0;
  /* 브라우저가 기본으로 넣는 안쪽 여백도 0으로 초기화! */
  padding: 0;
}

body {
  /* 연한 회색 배경색을 깔아줍니다 */
  background-color: #f0f2f5;
  /* 정렬의 신 소환! 안에 있는 채팅창을 가운데로 모을 거예요 */
  display: flex;
  /* 가로 기준으로 가운데 정렬 */
  justify-content: center;
  /* 세로 기준으로 가운데 정렬 */
  align-items: center;
  /* 화면 높이를 브라우저 화면 꽉 차게(100%) 설정해요 */
  height: 100vh;
}
.chat-container {
  /* 너비를 꽉 채우되, 최대 500px까지만 커지게 제한해요 */
  width: 100%;
  max-width: 500px;
  /* 높이는 화면의 90%만큼 차지하게 합니다 */
  height: 90vh;
  /* 바탕은 하얀색! */
  background: white;
  /* 모서리를 아주 둥글게(20px) 깎아서 세련되게 만들어요 */
  border-radius: 20px;
  /* 부드러운 그림자를 넣어 공중에 뜬 느낌을 줍니다 */
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
  /* 안의 내용물(제목, 대화창, 입력창)을 위아래로 쌓아요 */
  display: flex;
  flex-direction: column;
  /* 내용이 넘치면 삐져나오지 않게 숨깁니다 */
  overflow: hidden;
  /* 안의 요소들(모달 등)이 이 상자를 기준으로 움직이게 해요 */
  position: relative;
}

header {
  /* 보라색에서 파란색으로 변하는 고급스러운 무지개 배경! */
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  /* 글자색은 흰색 */
  color: white;
  /* 위아래 좌우 여백을 20px씩 줘서 널찍하게 만들어요 */
  padding: 20px;
  /* 글자를 가운데로! */
  text-align: center;
  /* 글자를 두껍게 */
  font-weight: bold;
  /* 글자 크기를 조금 키워요 */
  font-size: 1.2rem;
  /* 제목 줄 아래에 얇은 그림자를 넣어 구분해줍니다 */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}
#chat-history {
  /* 남은 공간을 이 구역이 다 차지하도록 해요 (1의 비율로) */
  flex: 1;
  /* 대화 내용이 벽에 붙지 않게 여백을 줘요 */
  padding: 20px;
  /* 대화가 많아져서 상자를 넘치면 자동으로 스크롤바가 생기게 해요 */
  overflow: auto;
  /* 메시지들을 위아래로 줄 세웁니다 */
  display: flex;
  /*세로정렬*/
  flex-direction: column;
  /* 메시지들 사이의 간격을 15px씩 벌려요 */
  gap: 15px;
  /* 배경은 하얀색 */
  background-color: #fff;
}

.message {
  /* 말풍선이 너무 길어지지 않게 가로의 최대 80%까지만 차지해요 */
  max-width: 80%;
  /* 글자 주변에 통통하게 여백을 줘서 말풍선을 만듭니다 */
  padding: 12px 16px;
  /* 말풍선 모서리를 둥글게! */
  border-radius: 15px;
  /* 글자 크기 설정 */
  font-size: 0.95rem;
  /* 줄 간격을 1.5배로 해서 읽기 편하게 해요 */
  line-height: 1.5;
  /* 위치 기준 설정 */
  position: relative;
  /* 긴 영단어 같은 게 들어와도 줄바꿈이 되도록 해요 */
  word-wrap: break-word;
}
.user-message {
  /* '나'의 메시지는 오른쪽 끝으로 붙여요 */
  align-self: flex-end;
  /* 내 말풍선은 보라색 계열로! */
  background-color: #667eea;
  /* 내 글씨는 흰색 */
  color: white;
  /* 오른쪽 아래 모서리만 뾰족하게 해서 꼬리 느낌을 줍니다 */
  border-bottom-right-radius: 5px;
}

.bot-message {
  /* '봇'의 메시지는 왼쪽 끝으로 붙여요 */
  align-self: flex-start;
  /* 봇 말풍선은 연한 회색으로! */
  background-color: #f1f0f0;
  /* 글자색은 어두운 회색 */
  color: #333;
  /* 왼쪽 아래 모서리만 뾰족하게 해서 꼬리 느낌을 줍니다 */
  border-bottom-left-radius: 5px;
}
.input-area {
  /* 입력창과 버튼을 옆으로 나란히 세워요 */
  display: flex;
  /* 안쪽 여백을 줘서 쾌적하게! */
  padding: 20px;
  /* 배경은 흰색 */
  background-color: #fff;
  /* 위쪽에 얇은 구분선을 그려줍니다 */
  border: 1px solid #bbb;
}

input[type="text"] {
  /* 입력창이 버튼을 제외한 남은 가로 공간을 다 차지해요 */
  flex: 1;
  /* 입력창 안쪽 여백 */
  padding: 15px;
  /* 테두리 설정 */
  border: 1px solid #bbb;
  /* 입력창을 타원형으로 아주 둥글게 만들어요 */
  border-radius: 25px;
  /* 입력창 클릭 시 생기는 파란 테두리를 없애요 */
  outline: none;
  /* 부드럽게 색이 변하는 효과 (0.3초 동안) */
  transition: border-color 0.3s;
}

button#send-btn {
  /* 버튼 배경색은 보라색 */
  background-color: #667eea;
  /* 버튼 글자색 (여기선 좀 연한 회색으로 되어있네요) */
  color: #bbb;
  /* 기본 테두리 제거 */
  border: none;
  /* 버튼 크기 설정 */
  padding: 10px 20px;
  /* 왼쪽 입력창과 살짝 거리를 둬요 */
  margin-left: 10px;
  /* 버튼도 둥글게! */
  border-radius: 25px;
  /* 마우스 올리면 손가락 모양으로 */
  cursor: pointer;
}
#api-key-modal {
  /* 화면 전체를 덮는 절대적인 위치로 고정해요 */
  position: absolute;
  /* 꼭대기부터 바닥까지 꽉 채우기 */
  top: 0; left: 0; width: 100%; height: 100%;
  /* 배경을 검은색으로 하되 80%만 투명하게 해서 뒤가 비치게 해요 */
  background: rgba(0, 0, 0, 0.8);
  /* 모달 안의 내용을 정가운데에 배치해요 */
  display: flex;
  justify-content: center;
  align-items: center;
  /* 다른 것보다 훨씬 앞쪽에 보이게 층수를 높여요 (100층) */
  z-index: 100;
}

.modal-content {
  /* 모달의 진짜 하얀색 상자 부분 */
  background: white;
  padding: 30px;
  border-radius: 15px;
  text-align: center;
  width: 80%;
}